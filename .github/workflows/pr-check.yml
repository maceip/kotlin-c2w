name: PR Quality Gate
on:
  pull_request:
    branches: [main, master]

jobs:
  quality:
    uses: maceip/.github/.github/workflows/pr-quality-gate.yml@main
    with:
      java-version: '21'
      ndk-version: '27.2.12479018'
      submodules: true
      app-module: 'android-app-wamr/app'
      gradle-task: ':app:assembleDebug'
      working-directory: 'android-app-wamr'
      expected-native-libs: 'lib/arm64-v8a/libfriscy_android.so'
      min-apk-size: 500000
      check-alignment: true
      package-name: 'com.example.c2wdemo.wamr'
      main-activity: '.MainActivity'
      detekt-config-repo: 'maceip/.github'
